import java.util.Arrays;

class Solution {
    public int minRemoval(int[] nums, int k) {
        Arrays.sort(nums);

        int n = nums.length;
        int l = 0;
        int maxWindow = 1; // at least one element is always valid

        for (int r = 0; r < n; r++) {

            while ((long) nums[r] > (long) nums[l] * k) {
                l++;
            }

            maxWindow = Math.max(maxWindow, r - l + 1);
        }

        return n - maxWindow;
    }

    public static void main(String[] args) {
        Solution sol = new Solution();

        int[] testNums = {1, 2, 3, 100};
        int testK = 2;

        System.out.println(sol.minRemoval(testNums, testK)); // Expected: 2
    }
}
